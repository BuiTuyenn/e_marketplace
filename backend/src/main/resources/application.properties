# =================================================================
# E-MARKETPLACE APPLICATION CONFIGURATION
# Unified configuration file for all environments
# =================================================================

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# Development: localhost with dev database
# Production: Change to production server and credentials
spring.datasource.url=jdbc:mysql://localhost:3306/e_marketplace?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=1234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =================================================================
# JPA/HIBERNATE CONFIGURATION
# =================================================================
# DDL Auto options:
# - 'create': Drop and recreate tables (WARNING: Data loss!)
# - 'create-drop': Create tables, drop on shutdown
# - 'update': Update schema, preserve data (RECOMMENDED for development)
# - 'validate': Only validate schema (RECOMMENDED for production)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.defer-datasource-initialization=true

# =================================================================
# CONNECTION POOL CONFIGURATION
# =================================================================
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000

# =================================================================
# APPLICATION CONFIGURATION
# =================================================================
server.port=8080
spring.application.name=e-marketplace-backend

# =================================================================
# FILE UPLOAD CONFIGURATION
# =================================================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
# Development: DEBUG level for detailed logs
# Production: Change to INFO or WARN
logging.level.com.e_marketplace=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# =================================================================
# JSON CONFIGURATION
# =================================================================
spring.jackson.time-zone=Asia/Ho_Chi_Minh
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss

# =================================================================
# SECURITY CONFIGURATION
# =================================================================
# Uncomment and configure when implementing JWT
# jwt.secret=your-secret-key-here
# jwt.expiration=86400

# =================================================================
# EMAIL CONFIGURATION
# =================================================================
# Uncomment and configure for password reset functionality
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# =================================================================
# FILE STORAGE CONFIGURATION
# =================================================================
file.upload.dir=uploads/

# =================================================================
# PRODUCTION OVERRIDES
# =================================================================
# When deploying to production, change these values:
#
# DATABASE:
# spring.datasource.url=jdbc:mysql://production-server:3306/e_marketplace?useSSL=true&serverTimezone=UTC
# spring.datasource.username=${DB_USERNAME}
# spring.datasource.password=${DB_PASSWORD}
# 
# HIBERNATE:
# spring.jpa.hibernate.ddl-auto=validate
# spring.jpa.show-sql=false
#
# LOGGING:
# logging.level.com.e_marketplace=INFO
# logging.level.org.springframework.web=WARN
# logging.level.org.hibernate.SQL=WARN
#
# SECURITY:
# server.ssl.enabled=true
# server.port=443
